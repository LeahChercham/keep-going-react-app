{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/LeahC/OneDrive/Documents/AKAD/ABSCHLUSS BAK PROJ BACH/PROJEKT/ProjectCode/keep-going-react-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/LeahC/OneDrive/Documents/AKAD/ABSCHLUSS BAK PROJ BACH/PROJEKT/ProjectCode/keep-going-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/LeahC/OneDrive/Documents/AKAD/ABSCHLUSS BAK PROJ BACH/PROJEKT/ProjectCode/keep-going-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/LeahC/OneDrive/Documents/AKAD/ABSCHLUSS BAK PROJ BACH/PROJEKT/ProjectCode/keep-going-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/LeahC/OneDrive/Documents/AKAD/ABSCHLUSS BAK PROJ BACH/PROJEKT/ProjectCode/keep-going-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{FormControl}from\"@mui/material\";import{TextField}from\"@mui/material\";import{FormHelperText}from\"@mui/material\";import{Button}from\"@mui/material\";import{useNavigate}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';// dispatch actions to the store\nimport{userLogin}from'../store/actions/authActions';import{CLEAR_ERROR}from'../store/types/authType';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var styles={main:{display:\"flex\",flexFlow:\"column\",justifyContent:\"space-evenly\",alignContent:\"center\"},text:{header:{fontSize:\"2em\",marginTop:\"0.5em\",display:\"flex\",justifyContent:\"center\",color:\"#0F202A\"}}};function Login(props){var _useState=useState({password:\"\",problem:\"\",username:\"\",redirect:false}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var dispatch=useDispatch();var navigate=useNavigate();var _useSelector=useSelector(function(state){return state.auth;}),loading=_useSelector.loading,authenticated=_useSelector.authenticated,error=_useSelector.error,successMessage=_useSelector.successMessage,user=_useSelector.user;var handleChange=function handleChange(event){setState(_objectSpread(_objectSpread({},state),{},_defineProperty({},event.target.id,event.target.value)));};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();login(state.username,state.password);case 2:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var login=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(username,password){var data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:data={username:username,password:password};_context2.next=3;return dispatch(userLogin(data));case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function login(_x2,_x3){return _ref2.apply(this,arguments);};}();useEffect(function(){if(authenticated){navigate(\"/search\");}if(error){alert(\"Error: No user with this combination of username and password found\");dispatch({type:'CLEAR_ERROR'});}});return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{style:{marginLeft:\"4em\",marginRight:\"4em\"},children:[/*#__PURE__*/_jsx(\"div\",{style:styles.text.header,children:\"Log In\"}),/*#__PURE__*/_jsxs(FormControl,{style:styles.main,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(TextField,{id:\"username\",label:\"Username\",value:state.username,onChange:handleChange,margin:\"normal\",variant:\"outlined\",style:{width:\"100%\"}}),/*#__PURE__*/_jsx(FormHelperText,{id:\"my-helper-text\",children:\"Use your Username to log in.\"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(TextField,{id:\"password\",label:\"Password\",type:\"password\",value:state.password,onChange:handleChange,margin:\"normal\",variant:\"outlined\",style:{width:\"100%\"}})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:handleSubmit,children:\"Log In\"})}),/*#__PURE__*/_jsx(\"div\",{children:state.problem})]})]})});}export default Login;","map":{"version":3,"names":["React","useEffect","useState","FormControl","TextField","FormHelperText","Button","useNavigate","useDispatch","useSelector","userLogin","CLEAR_ERROR","styles","main","display","flexFlow","justifyContent","alignContent","text","header","fontSize","marginTop","color","Login","props","password","problem","username","redirect","state","setState","dispatch","navigate","auth","loading","authenticated","error","successMessage","user","handleChange","event","target","id","value","handleSubmit","preventDefault","login","data","alert","type","marginLeft","marginRight","width"],"sources":["C:/Users/LeahC/OneDrive/Documents/AKAD/ABSCHLUSS BAK PROJ BACH/PROJEKT/ProjectCode/keep-going-react-app/frontend/src/Components/Login.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { FormControl } from \"@mui/material\";\r\nimport { TextField } from \"@mui/material\";\r\nimport { FormHelperText } from \"@mui/material\";\r\nimport { Button } from \"@mui/material\";\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux' // dispatch actions to the store\r\nimport { userLogin } from '../store/actions/authActions';\r\n\r\nimport { CLEAR_ERROR } from '../store/types/authType';\r\n\r\n\r\nconst styles = {\r\n    main: {\r\n        display: \"flex\",\r\n        flexFlow: \"column\",\r\n        justifyContent: \"space-evenly\",\r\n        alignContent: \"center\"\r\n    },\r\n    text: {\r\n        header: {\r\n            fontSize: \"2em\",\r\n            marginTop: \"0.5em\",\r\n            display: \"flex\",\r\n            justifyContent: \"center\",\r\n            color: \"#0F202A\"\r\n        }\r\n    }\r\n\r\n}\r\n\r\nfunction Login(props) {\r\n\r\n    const [state, setState] = useState({\r\n        password: \"\",\r\n        problem: \"\",\r\n        username: \"\",\r\n        redirect: false\r\n    })\r\n    const dispatch = useDispatch();\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const { loading, authenticated, error, successMessage, user } = useSelector(state => state.auth);\r\n\r\n    const handleChange = (event) => {\r\n        setState({\r\n            ...state,\r\n            [event.target.id]: event.target.value\r\n        })\r\n    }\r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n        login(state.username, state.password);\r\n    }\r\n\r\n    const login = async (username, password) => {\r\n        let data = {\r\n            username,\r\n            password\r\n        }\r\n        await dispatch(userLogin(data))\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (authenticated) {\r\n            navigate(\"/search\")\r\n        }\r\n        if (error) {\r\n            alert(\"Error: No user with this combination of username and password found\")\r\n            dispatch({ type: 'CLEAR_ERROR' })   \r\n        }\r\n    }\r\n    )\r\n\r\n    return (\r\n        <div>\r\n            <div style={{ marginLeft: \"4em\", marginRight: \"4em\" }}>\r\n                <div style={styles.text.header}>Log In</div>\r\n                <FormControl style={styles.main}>\r\n                    <div>\r\n                        <TextField\r\n                            id=\"username\"\r\n                            label=\"Username\"\r\n                            value={state.username}\r\n                            onChange={handleChange}\r\n                            margin=\"normal\"\r\n                            variant=\"outlined\"\r\n                            style={{ width: \"100%\" }}\r\n                        />\r\n                        <FormHelperText id=\"my-helper-text\">Use your Username to log in.</FormHelperText>\r\n                    </div>\r\n                    <div>\r\n                        <TextField\r\n                            id=\"password\"\r\n                            label=\"Password\"\r\n                            type=\"password\"\r\n                            value={state.password}\r\n                            onChange={handleChange}\r\n                            margin=\"normal\"\r\n                            variant=\"outlined\"\r\n                            style={{ width: \"100%\" }}\r\n                        />\r\n                    </div>\r\n\r\n                    <div>\r\n                        <Button\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            onClick={handleSubmit}>\r\n                            Log In\r\n                        </Button>\r\n                    </div>\r\n                    <div>\r\n                        {state.problem}\r\n                    </div>\r\n                </FormControl>\r\n            </div >\r\n        </div>\r\n    )\r\n\r\n\r\n}\r\n\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module"}