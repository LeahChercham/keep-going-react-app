{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/LeahC/OneDrive/Documents/AKAD/ABSCHLUSS BAK PROJ BACH/PROJEKT/ProjectCode/keep-going-react-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/LeahC/OneDrive/Documents/AKAD/ABSCHLUSS BAK PROJ BACH/PROJEKT/ProjectCode/keep-going-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from'axios';import{USER_LOGOUT,CONTACT_GET_SUCCESS,MESSAGE_GET_SUCCESS,MESSAGE_SEND_SUCCESS}from\"../types/messengerType\";import consts from'../../consts';var CREATE_ROUTE=consts.CREATE_ROUTE;var util=require(\"util\");export var getContacts=function getContacts(myId){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(CREATE_ROUTE(\"messenger/get-contacts/\".concat(myId)));case 3:response=_context.sent;dispatch({type:CONTACT_GET_SUCCESS,payload:{contacts:response.data.contacts}});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var messageSend=function messageSend(data){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;console.log(\"dispatch:\");console.log(data);_context2.next=5;return axios.post(CREATE_ROUTE('messenger/send-message'),data);case 5:response=_context2.sent;dispatch({type:MESSAGE_SEND_SUCCESS,payload:{message:response.data.message}});_context2.next=12;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0.response.data);case 12:case\"end\":return _context2.stop();}}},_callee2,null,[[0,9]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var messengerActionLogOut=function messengerActionLogOut(){return function(){return function(dispatch){return dispatch({type:USER_LOGOUT});};};};export var getMessage=function getMessage(expertId,myId){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(dispatch){var response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.get(CREATE_ROUTE(\"messenger/get-message/\".concat(expertId,\"/\").concat(myId)));case 3:response=_context3.sent;dispatch({type:MESSAGE_GET_SUCCESS,payload:{message:response.data.message}});_context3.next=10;break;case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](0);console.log(\"error:\"+_context3.t0);case 10:case\"end\":return _context3.stop();}}},_callee3,null,[[0,7]]);}));return function(_x3){return _ref3.apply(this,arguments);};}();};// Not in use\n// export const ImageMessageSend = (data) => async(dispatch)=>{\n//      try{\n//           const response = await axios.post('/api/messenger/image-message-send',data);\n//           dispatch({\n//                type: MESSAGE_SEND_SUCCESS,\n//                payload : {\n//                     message : response.data.message\n//                }\n//           })\n//      }catch (error){\n//           console.log(error.response.data);\n//      }\n// }\nexport var seenMessage=function seenMessage(msg){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(dispatch){var response;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return axios.post(CREATE_ROUTE('messenger/seen-message'),msg);case 3:response=_context4.sent;console.log(response.data);_context4.next=10;break;case 7:_context4.prev=7;_context4.t0=_context4[\"catch\"](0);console.log(_context4.t0.response.message);case 10:case\"end\":return _context4.stop();}}},_callee4,null,[[0,7]]);}));return function(_x4){return _ref4.apply(this,arguments);};}();};export var updateMessage=function updateMessage(msg){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(dispatch){var response;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return axios.post(CREATE_ROUTE('messenger/delivered-message'),msg);case 3:response=_context5.sent;console.log(response.data);_context5.next=10;break;case 7:_context5.prev=7;_context5.t0=_context5[\"catch\"](0);console.log(_context5.t0.response.message);case 10:case\"end\":return _context5.stop();}}},_callee5,null,[[0,7]]);}));return function(_x5){return _ref5.apply(this,arguments);};}();};","map":{"version":3,"names":["axios","USER_LOGOUT","CONTACT_GET_SUCCESS","MESSAGE_GET_SUCCESS","MESSAGE_SEND_SUCCESS","consts","CREATE_ROUTE","util","require","getContacts","myId","dispatch","get","response","type","payload","contacts","data","console","log","messageSend","post","message","messengerActionLogOut","getMessage","expertId","seenMessage","msg","updateMessage"],"sources":["C:/Users/LeahC/OneDrive/Documents/AKAD/ABSCHLUSS BAK PROJ BACH/PROJEKT/ProjectCode/keep-going-react-app/frontend/src/store/actions/messengerAction.js"],"sourcesContent":["import axios from 'axios';\r\nimport { USER_LOGOUT, CONTACT_GET_SUCCESS, MESSAGE_GET_SUCCESS, MESSAGE_SEND_SUCCESS } from \"../types/messengerType\";\r\nimport consts from '../../consts'\r\nconst CREATE_ROUTE = consts.CREATE_ROUTE\r\nconst util = require(\"util\")\r\n\r\nexport const getContacts = (myId) => async (dispatch) => {\r\n    try {\r\n        const response = await axios.get(CREATE_ROUTE(`messenger/get-contacts/${myId}`));\r\n        dispatch({\r\n            type: CONTACT_GET_SUCCESS,\r\n            payload: {\r\n                contacts: response.data.contacts\r\n            }\r\n        })\r\n\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}\r\n\r\nexport const messageSend = (data) => async (dispatch) => {\r\n\r\n    try {\r\n        console.log(\"dispatch:\")\r\n        console.log(data)\r\n\r\n        const response = await axios.post(CREATE_ROUTE('messenger/send-message'), data);\r\n        dispatch({\r\n            type: MESSAGE_SEND_SUCCESS,\r\n            payload: {\r\n                message: response.data.message\r\n            }\r\n        })\r\n    } catch (error) {\r\n        console.log(error.response.data);\r\n    }\r\n}\r\n\r\nexport const messengerActionLogOut = () =>  () => {\r\n    return dispatch => dispatch({ type: USER_LOGOUT })\r\n}\r\n\r\n\r\nexport const getMessage = (expertId, myId) => {\r\n\r\n    return async (dispatch) => {\r\n        try {\r\n            const response = await axios.get(CREATE_ROUTE(`messenger/get-message/${expertId}/${myId}`));\r\n            dispatch({\r\n\r\n                type: MESSAGE_GET_SUCCESS,\r\n                payload: {\r\n                    message: response.data.message\r\n                }\r\n            })\r\n\r\n        } catch (error) {\r\n            console.log(\"error:\" + error)\r\n        }\r\n    }\r\n}\r\n\r\n// Not in use\r\n// export const ImageMessageSend = (data) => async(dispatch)=>{\r\n\r\n//      try{\r\n//           const response = await axios.post('/api/messenger/image-message-send',data);\r\n//           dispatch({\r\n//                type: MESSAGE_SEND_SUCCESS,\r\n//                payload : {\r\n//                     message : response.data.message\r\n//                }\r\n//           })\r\n//      }catch (error){\r\n//           console.log(error.response.data);\r\n\r\n//      }\r\n\r\n// }\r\n\r\nexport const seenMessage = (msg) => async (dispatch) => {\r\n    try {\r\n        const response = await axios.post(CREATE_ROUTE('messenger/seen-message'), msg);\r\n        console.log(response.data);\r\n    } catch (error) {\r\n        console.log(error.response.message)\r\n\r\n    }\r\n}\r\n\r\n\r\nexport const updateMessage = (msg) => async (dispatch) => {\r\n    try {\r\n        const response = await axios.post(CREATE_ROUTE('messenger/delivered-message'), msg);\r\n        console.log(response.data);\r\n    } catch (error) {\r\n        console.log(error.response.message)\r\n\r\n    }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}