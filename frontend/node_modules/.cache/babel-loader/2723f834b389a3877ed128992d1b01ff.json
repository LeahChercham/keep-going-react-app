{"ast":null,"code":"import { USER_LOGOUT, OFFER_GET_SUCCESS, OFFER_SEND_SUCCESS_CLEAR, OFFER_GET_SUCCESS_CLEAR, CONTACT_GET_SUCCESS, DELIVERED_OFFER, UPDATE_OFFER, UPDATE_CONTACT_OFFER, SOCKET_OFFER, OFFER_SEND_SUCCESS } from '../types/offerType';\nconst offerState = {\n  offerContacts: [],\n  offer: [],\n  offerSendSuccess: false,\n  offerGetSuccess: false\n};\nexport const offerReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : offerState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  const {\n    type,\n    payload\n  } = action;\n\n  if (type === CONTACT_GET_SUCCESS) {\n    return { ...state,\n      offerContacts: payload.contacts\n    };\n  }\n\n  if (type === OFFER_GET_SUCCESS) {\n    return { ...state,\n      offerGetSuccess: true,\n      offer: payload.offer\n    };\n  }\n\n  if (type === OFFER_SEND_SUCCESS) {\n    return { ...state,\n      offerSendSuccess: true,\n      offer: payload.offer\n    };\n  }\n\n  if (type === SOCKET_OFFER) {\n    return { ...state,\n      offer: payload.offer\n    };\n  }\n\n  if (type === UPDATE_CONTACT_OFFER) {\n    const index = state.offerContacts.findIndex(c => c.contactInfo._id === payload.offerInfo.receiverId || c.contactInfo._id === payload.offerInfo.senderId);\n    state.offerContacts[index].offerInfo = payload.offerInfo;\n    state.offerContacts[index].offerInfo.status = payload.status;\n    return state;\n  }\n\n  if (type === OFFER_SEND_SUCCESS_CLEAR) {\n    return { ...state,\n      offerSendSuccess: false\n    };\n  }\n\n  if (type === DELIVERED_OFFER) {\n    const index = state.offerContacts.findIndex(c => c.contactInfo._id === payload.offerInfo.receiverId || c.contactInfo._id === payload.offerInfo.senderId);\n    state.offerContacts[index].offerInfo.status = 'delivered';\n    return { ...state\n    };\n  }\n\n  if (type === USER_LOGOUT) {\n    return { ...state,\n      offerContacts: [],\n      offer: [],\n      offerSendSuccess: false,\n      offerGetSuccess: false\n    };\n  }\n\n  if (type === OFFER_GET_SUCCESS_CLEAR) {\n    return { ...state,\n      offerGetSuccess: false\n    };\n  }\n\n  return state;\n};","map":{"version":3,"names":["USER_LOGOUT","OFFER_GET_SUCCESS","OFFER_SEND_SUCCESS_CLEAR","OFFER_GET_SUCCESS_CLEAR","CONTACT_GET_SUCCESS","DELIVERED_OFFER","UPDATE_OFFER","UPDATE_CONTACT_OFFER","SOCKET_OFFER","OFFER_SEND_SUCCESS","offerState","offerContacts","offer","offerSendSuccess","offerGetSuccess","offerReducer","state","action","type","payload","contacts","index","findIndex","c","contactInfo","_id","offerInfo","receiverId","senderId","status"],"sources":["C:/Users/LeahC/OneDrive/Documents/AKAD/ABSCHLUSS BAK PROJ BACH/PROJEKT/ProjectCode/keep-going-react-app/frontend/src/store/reducers/offerReducer.js"],"sourcesContent":["import { USER_LOGOUT, OFFER_GET_SUCCESS, OFFER_SEND_SUCCESS_CLEAR, OFFER_GET_SUCCESS_CLEAR, CONTACT_GET_SUCCESS, DELIVERED_OFFER, UPDATE_OFFER, UPDATE_CONTACT_OFFER, SOCKET_OFFER, OFFER_SEND_SUCCESS } from '../types/offerType';\r\n\r\n\r\n\r\nconst offerState = {\r\n    offerContacts: [],\r\n    offer: [],\r\n    offerSendSuccess: false,\r\n    offerGetSuccess: false\r\n}\r\n\r\nexport const offerReducer = (state = offerState, action) => {\r\n    const { type, payload } = action;\r\n\r\n    if (type === CONTACT_GET_SUCCESS) {\r\n        return {\r\n            ...state,\r\n            offerContacts: payload.contacts\r\n        }\r\n    }\r\n\r\n\r\n\r\n    if (type === OFFER_GET_SUCCESS) {\r\n        return {\r\n            ...state,\r\n            offerGetSuccess: true,\r\n            offer: payload.offer\r\n        }\r\n    }\r\n\r\n    if (type === OFFER_SEND_SUCCESS) {\r\n        return {\r\n            ...state,\r\n            offerSendSuccess: true,\r\n            offer: payload.offer\r\n        }\r\n    }\r\n\r\n    if (type === SOCKET_OFFER) {\r\n        return {\r\n            ...state,\r\n            offer: payload.offer\r\n        }\r\n    }\r\n\r\n    if (type === UPDATE_CONTACT_OFFER) { \r\n        const index = state.offerContacts.findIndex(c => c.contactInfo._id === payload.offerInfo.receiverId || c.contactInfo._id === payload.offerInfo.senderId);\r\n        state.offerContacts[index].offerInfo = payload.offerInfo;\r\n        state.offerContacts[index].offerInfo.status = payload.status;\r\n        return state;\r\n    }\r\n\r\n\r\n\r\n    if (type === OFFER_SEND_SUCCESS_CLEAR) {\r\n        return {\r\n            ...state,\r\n            offerSendSuccess: false\r\n        }\r\n    }\r\n\r\n\r\n    if (type === DELIVERED_OFFER) {\r\n        const index = state.offerContacts.findIndex(c => c.contactInfo._id === payload.offerInfo.receiverId || c.contactInfo._id === payload.offerInfo.senderId);\r\n        state.offerContacts[index].offerInfo.status = 'delivered';\r\n        return {\r\n            ...state\r\n        };\r\n    }\r\n\r\n    if (type === USER_LOGOUT) {\r\n        return {\r\n            ...state,\r\n            offerContacts: [],\r\n            offer: [],\r\n            offerSendSuccess: false,\r\n            offerGetSuccess: false,\r\n        }\r\n    }\r\n\r\n\r\n    if (type === OFFER_GET_SUCCESS_CLEAR) {\r\n        return {\r\n            ...state,\r\n            offerGetSuccess: false\r\n        }\r\n    }\r\n\r\n\r\n    return state;\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}