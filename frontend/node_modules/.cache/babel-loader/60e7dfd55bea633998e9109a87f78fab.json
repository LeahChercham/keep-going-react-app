{"ast":null,"code":"import _objectSpread from\"C:/Users/LeahC/OneDrive/Documents/AKAD/ABSCHLUSS BAK PROJ BACH/PROJEKT/ProjectCode/keep-going-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{USER_LOGOUT,OFFER_GET_SUCCESS,OFFER_SEND_SUCCESS_CLEAR,OFFER_GET_SUCCESS_CLEAR,CONTACT_GET_SUCCESS,DELIVERED_OFFER,UPDATE_OFFER,UPDATE_CONTACT_OFFER,SOCKET_OFFER,OFFER_SEND_SUCCESS}from'../types/offerType';var offerState={offerContacts:[],offer:[],offerSendSuccess:false,offerGetSuccess:false// price: 0,\n// senderName: \"\",\n// senderId: \"\",\n// receiverId: \"\",\n// status: \"\",\n};export var offerReducer=function offerReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:offerState;var action=arguments.length>1?arguments[1]:undefined;var type=action.type,payload=action.payload;if(type===CONTACT_GET_SUCCESS){return _objectSpread(_objectSpread({},state),{},{offerContacts:payload.contacts});}if(type===OFFER_GET_SUCCESS){return _objectSpread(_objectSpread({},state),{},{offerGetSuccess:true,offer:payload.offer});}if(type===OFFER_SEND_SUCCESS){return _objectSpread(_objectSpread({},state),{},{offerSendSuccess:true,offer:payload.offer});}if(type===SOCKET_OFFER){return _objectSpread(_objectSpread({},state),{},{offer:payload.offer});}if(type===UPDATE_CONTACT_OFFER){// hier bug receiverId undefined\nvar index=state.offerContacts.findIndex(function(c){return c.contactInfo._id===payload.offerInfo.receiverId||c.contactInfo._id===payload.offerInfo.senderId;});state.offerContacts[index].offerInfo=payload.offerInfo;state.offerContacts[index].offerInfo.status=payload.status;return state;}if(type===OFFER_SEND_SUCCESS_CLEAR){return _objectSpread(_objectSpread({},state),{},{offerSendSuccess:false});}if(type===DELIVERED_OFFER){var _index=state.offerContacts.findIndex(function(c){return c.contactInfo._id===payload.offerInfo.receiverId||c.contactInfo._id===payload.offerInfo.senderId;});state.offerContacts[_index].offerInfo.status='delivered';return _objectSpread({},state);}if(type===USER_LOGOUT){return _objectSpread(_objectSpread({},state),{},{offerContacts:[],offer:[],offerSendSuccess:false,offerGetSuccess:false});}if(type===OFFER_GET_SUCCESS_CLEAR){return _objectSpread(_objectSpread({},state),{},{offerGetSuccess:false});}return state;};","map":{"version":3,"names":["USER_LOGOUT","OFFER_GET_SUCCESS","OFFER_SEND_SUCCESS_CLEAR","OFFER_GET_SUCCESS_CLEAR","CONTACT_GET_SUCCESS","DELIVERED_OFFER","UPDATE_OFFER","UPDATE_CONTACT_OFFER","SOCKET_OFFER","OFFER_SEND_SUCCESS","offerState","offerContacts","offer","offerSendSuccess","offerGetSuccess","offerReducer","state","action","type","payload","contacts","index","findIndex","c","contactInfo","_id","offerInfo","receiverId","senderId","status"],"sources":["C:/Users/LeahC/OneDrive/Documents/AKAD/ABSCHLUSS BAK PROJ BACH/PROJEKT/ProjectCode/keep-going-react-app/frontend/src/store/reducers/offerReducer.js"],"sourcesContent":["import { USER_LOGOUT, OFFER_GET_SUCCESS, OFFER_SEND_SUCCESS_CLEAR, OFFER_GET_SUCCESS_CLEAR, CONTACT_GET_SUCCESS, DELIVERED_OFFER, UPDATE_OFFER, UPDATE_CONTACT_OFFER, SOCKET_OFFER, OFFER_SEND_SUCCESS } from '../types/offerType';\r\n\r\n\r\n\r\nconst offerState = {\r\n    offerContacts: [],\r\n    offer: [],\r\n    offerSendSuccess: false,\r\n    offerGetSuccess: false,\r\n    // price: 0,\r\n    // senderName: \"\",\r\n    // senderId: \"\",\r\n    // receiverId: \"\",\r\n    // status: \"\",\r\n}\r\n\r\nexport const offerReducer = (state = offerState, action) => {\r\n    const { type, payload } = action;\r\n\r\n    if (type === CONTACT_GET_SUCCESS) {\r\n        return {\r\n            ...state,\r\n            offerContacts: payload.contacts\r\n        }\r\n    }\r\n\r\n\r\n\r\n    if (type === OFFER_GET_SUCCESS) {\r\n        return {\r\n            ...state,\r\n            offerGetSuccess: true,\r\n            offer: payload.offer\r\n        }\r\n    }\r\n\r\n    if (type === OFFER_SEND_SUCCESS) {\r\n        return {\r\n            ...state,\r\n            offerSendSuccess: true,\r\n            offer: payload.offer\r\n        }\r\n    }\r\n\r\n    if (type === SOCKET_OFFER) {\r\n        return {\r\n            ...state,\r\n            offer: payload.offer\r\n        }\r\n    }\r\n\r\n    if (type === UPDATE_CONTACT_OFFER) { // hier bug receiverId undefined\r\n        const index = state.offerContacts.findIndex(c => c.contactInfo._id === payload.offerInfo.receiverId || c.contactInfo._id === payload.offerInfo.senderId);\r\n        state.offerContacts[index].offerInfo = payload.offerInfo;\r\n        state.offerContacts[index].offerInfo.status = payload.status;\r\n        return state;\r\n    }\r\n\r\n\r\n\r\n    if (type === OFFER_SEND_SUCCESS_CLEAR) {\r\n        return {\r\n            ...state,\r\n            offerSendSuccess: false\r\n        }\r\n    }\r\n\r\n\r\n    if (type === DELIVERED_OFFER) {\r\n        const index = state.offerContacts.findIndex(c => c.contactInfo._id === payload.offerInfo.receiverId || c.contactInfo._id === payload.offerInfo.senderId);\r\n        state.offerContacts[index].offerInfo.status = 'delivered';\r\n        return {\r\n            ...state\r\n        };\r\n    }\r\n\r\n    if (type === USER_LOGOUT) {\r\n        return {\r\n            ...state,\r\n            offerContacts: [],\r\n            offer: [],\r\n            offerSendSuccess: false,\r\n            offerGetSuccess: false,\r\n        }\r\n    }\r\n\r\n\r\n    if (type === OFFER_GET_SUCCESS_CLEAR) {\r\n        return {\r\n            ...state,\r\n            offerGetSuccess: false\r\n        }\r\n    }\r\n\r\n\r\n    return state;\r\n}"],"mappings":"4LAAA,OAASA,WAAT,CAAsBC,iBAAtB,CAAyCC,wBAAzC,CAAmEC,uBAAnE,CAA4FC,mBAA5F,CAAiHC,eAAjH,CAAkIC,YAAlI,CAAgJC,oBAAhJ,CAAsKC,YAAtK,CAAoLC,kBAApL,KAA8M,oBAA9M,CAIA,GAAMC,WAAU,CAAG,CACfC,aAAa,CAAE,EADA,CAEfC,KAAK,CAAE,EAFQ,CAGfC,gBAAgB,CAAE,KAHH,CAIfC,eAAe,CAAE,KACjB;AACA;AACA;AACA;AACA;AATe,CAAnB,CAYA,MAAO,IAAMC,aAAY,CAAG,QAAfA,aAAe,EAAgC,IAA/BC,MAA+B,2DAAvBN,UAAuB,IAAXO,OAAW,2CACxD,GAAQC,KAAR,CAA0BD,MAA1B,CAAQC,IAAR,CAAcC,OAAd,CAA0BF,MAA1B,CAAcE,OAAd,CAEA,GAAID,IAAI,GAAKd,mBAAb,CAAkC,CAC9B,sCACOY,KADP,MAEIL,aAAa,CAAEQ,OAAO,CAACC,QAF3B,GAIH,CAID,GAAIF,IAAI,GAAKjB,iBAAb,CAAgC,CAC5B,sCACOe,KADP,MAEIF,eAAe,CAAE,IAFrB,CAGIF,KAAK,CAAEO,OAAO,CAACP,KAHnB,GAKH,CAED,GAAIM,IAAI,GAAKT,kBAAb,CAAiC,CAC7B,sCACOO,KADP,MAEIH,gBAAgB,CAAE,IAFtB,CAGID,KAAK,CAAEO,OAAO,CAACP,KAHnB,GAKH,CAED,GAAIM,IAAI,GAAKV,YAAb,CAA2B,CACvB,sCACOQ,KADP,MAEIJ,KAAK,CAAEO,OAAO,CAACP,KAFnB,GAIH,CAED,GAAIM,IAAI,GAAKX,oBAAb,CAAmC,CAAE;AACjC,GAAMc,MAAK,CAAGL,KAAK,CAACL,aAAN,CAAoBW,SAApB,CAA8B,SAAAC,CAAC,QAAIA,EAAC,CAACC,WAAF,CAAcC,GAAd,GAAsBN,OAAO,CAACO,SAAR,CAAkBC,UAAxC,EAAsDJ,CAAC,CAACC,WAAF,CAAcC,GAAd,GAAsBN,OAAO,CAACO,SAAR,CAAkBE,QAAlG,EAA/B,CAAd,CACAZ,KAAK,CAACL,aAAN,CAAoBU,KAApB,EAA2BK,SAA3B,CAAuCP,OAAO,CAACO,SAA/C,CACAV,KAAK,CAACL,aAAN,CAAoBU,KAApB,EAA2BK,SAA3B,CAAqCG,MAArC,CAA8CV,OAAO,CAACU,MAAtD,CACA,MAAOb,MAAP,CACH,CAID,GAAIE,IAAI,GAAKhB,wBAAb,CAAuC,CACnC,sCACOc,KADP,MAEIH,gBAAgB,CAAE,KAFtB,GAIH,CAGD,GAAIK,IAAI,GAAKb,eAAb,CAA8B,CAC1B,GAAMgB,OAAK,CAAGL,KAAK,CAACL,aAAN,CAAoBW,SAApB,CAA8B,SAAAC,CAAC,QAAIA,EAAC,CAACC,WAAF,CAAcC,GAAd,GAAsBN,OAAO,CAACO,SAAR,CAAkBC,UAAxC,EAAsDJ,CAAC,CAACC,WAAF,CAAcC,GAAd,GAAsBN,OAAO,CAACO,SAAR,CAAkBE,QAAlG,EAA/B,CAAd,CACAZ,KAAK,CAACL,aAAN,CAAoBU,MAApB,EAA2BK,SAA3B,CAAqCG,MAArC,CAA8C,WAA9C,CACA,wBACOb,KADP,EAGH,CAED,GAAIE,IAAI,GAAKlB,WAAb,CAA0B,CACtB,sCACOgB,KADP,MAEIL,aAAa,CAAE,EAFnB,CAGIC,KAAK,CAAE,EAHX,CAIIC,gBAAgB,CAAE,KAJtB,CAKIC,eAAe,CAAE,KALrB,GAOH,CAGD,GAAII,IAAI,GAAKf,uBAAb,CAAsC,CAClC,sCACOa,KADP,MAEIF,eAAe,CAAE,KAFrB,GAIH,CAGD,MAAOE,MAAP,CACH,CAhFM"},"metadata":{},"sourceType":"module"}