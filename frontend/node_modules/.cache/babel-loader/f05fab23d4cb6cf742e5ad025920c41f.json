{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/LeahC/OneDrive/Documents/AKAD/ABSCHLUSS BAK PROJ BACH/PROJEKT/ProjectCode/keep-going-react-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/LeahC/OneDrive/Documents/AKAD/ABSCHLUSS BAK PROJ BACH/PROJEKT/ProjectCode/keep-going-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import Axios from'axios';import consts from'../../consts';import{AUTH_FAIL,AUTH_SUCCESS,USER_LOGIN_SUCCESS,USER_LOGIN_FAIL,CLEAR_ERROR,USER_LOGOUT,USER_UPDATE_SUCCESS,USER_GET_FAIL,USER_GET_SUCCESS,USER_UPDATE_FAIL}from'../types/authType';var CREATE_ROUTE=consts.CREATE_ROUTE;var util=require(\"util\");export var userRegister=function userRegister(user){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return Axios.post(CREATE_ROUTE(\"user\"),user);case 3:response=_context.sent;dispatch({type:AUTH_SUCCESS,payload:{successMessage:response.data.successMessage,user:response.data.user}});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);dispatch({type:AUTH_FAIL,payload:{error:_context.t0.response.data.error.errorMessage}});case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var userLogin=function userLogin(data){var username=data.username,password=data.password;if(!password){alert(\"Please enter your password.\");}if(!username){alert(\"Please enter your username.\");}return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch){var response,login;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return Axios.get(CREATE_ROUTE(\"login/\".concat(username,\"/\").concat(password)));case 3:response=_context2.sent;// asynchronous function\nconsole.log(\"in user Update\");console.log(response.data);if(response.data.error){dispatch({type:USER_LOGIN_FAIL,payload:{error:response.data.error.errorMessage}});}else{login={isLoggedIn:true,user:response.data.user};localStorage.login=JSON.stringify(login);dispatch({type:USER_LOGIN_SUCCESS,payload:{successMessage:response.data.successMessage,user:response.data.user}});}_context2.next=12;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](0);dispatch({type:USER_LOGIN_FAIL,payload:{error:_context2.t0.response.data.error.errorMessage}});case 12:case\"end\":return _context2.stop();}}},_callee2,null,[[0,9]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var userLogout=function userLogout(){localStorage.clear();return function(dispatch){return dispatch({type:USER_LOGOUT});};};export var userUpdate=function userUpdate(data){var updateUser=data.updateUser;var username=updateUser.username;var oldKeywords=data.oldKeywords;var transferData={updateUser:updateUser,oldKeywords:oldKeywords};return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(dispatch){var response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return Axios.put(CREATE_ROUTE(\"user/\".concat(username)),transferData);case 3:response=_context3.sent;dispatch({type:USER_UPDATE_SUCCESS,payload:{successMessage:response.data.successMessage,user:response.data.user}});_context3.next=10;break;case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](0);dispatch({type:USER_UPDATE_FAIL,payload:{error:_context3.t0.response.data.error.errorMessage}});case 10:case\"end\":return _context3.stop();}}},_callee3,null,[[0,7]]);}));return function(_x3){return _ref3.apply(this,arguments);};}();};export var userGet=function userGet(user){var username=user.username;return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(dispatch){var response;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return Axios.get(CREATE_ROUTE(\"user/username/\".concat(username)));case 3:response=_context4.sent;dispatch({type:USER_GET_SUCCESS,payload:{successMessage:\"success\",user:response.data}});_context4.next=10;break;case 7:_context4.prev=7;_context4.t0=_context4[\"catch\"](0);dispatch({type:USER_GET_FAIL,payload:{error:_context4.t0.response.data.error.errorMessage}});case 10:case\"end\":return _context4.stop();}}},_callee4,null,[[0,7]]);}));return function(_x4){return _ref4.apply(this,arguments);};}();};","map":{"version":3,"names":["Axios","consts","AUTH_FAIL","AUTH_SUCCESS","USER_LOGIN_SUCCESS","USER_LOGIN_FAIL","CLEAR_ERROR","USER_LOGOUT","USER_UPDATE_SUCCESS","USER_GET_FAIL","USER_GET_SUCCESS","USER_UPDATE_FAIL","CREATE_ROUTE","util","require","userRegister","user","dispatch","post","response","type","payload","successMessage","data","error","errorMessage","userLogin","username","password","alert","get","console","log","login","isLoggedIn","localStorage","JSON","stringify","userLogout","clear","userUpdate","updateUser","oldKeywords","transferData","put","userGet"],"sources":["C:/Users/LeahC/OneDrive/Documents/AKAD/ABSCHLUSS BAK PROJ BACH/PROJEKT/ProjectCode/keep-going-react-app/frontend/src/store/actions/authActions.js"],"sourcesContent":["import Axios from 'axios';\r\nimport consts from '../../consts'\r\nimport { AUTH_FAIL, AUTH_SUCCESS, USER_LOGIN_SUCCESS, USER_LOGIN_FAIL, CLEAR_ERROR, USER_LOGOUT, USER_UPDATE_SUCCESS, USER_GET_FAIL, USER_GET_SUCCESS, USER_UPDATE_FAIL } from '../types/authType';\r\nconst CREATE_ROUTE = consts.CREATE_ROUTE\r\nconst util = require(\"util\")\r\n\r\nexport const userRegister = (user) => {\r\n\r\n    return async (dispatch) => {\r\n\r\n        try {\r\n            const response = await Axios.post(CREATE_ROUTE(\"user\"), user)\r\n            dispatch({\r\n                type: AUTH_SUCCESS,\r\n                payload: {\r\n                    successMessage: response.data.successMessage,\r\n                    user: response.data.user,\r\n                }\r\n            })\r\n        } catch (error) {\r\n            dispatch({\r\n                type: AUTH_FAIL,\r\n                payload: { error: error.response.data.error.errorMessage }\r\n            })\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport const userLogin = (data) => {\r\n    let { username, password } = data\r\n    if (!password) { alert(\"Please enter your password.\") }\r\n    if (!username) { alert(\"Please enter your username.\") }\r\n\r\n    return async dispatch => {\r\n        try {\r\n            let response = await Axios.get(CREATE_ROUTE(`login/${username}/${password}`)) // asynchronous function\r\n            console.log(\"in user Update\");\r\n            console.log(response.data)\r\n            if(response.data.error){\r\n                dispatch({\r\n                    type: USER_LOGIN_FAIL,\r\n                    payload: {\r\n                        error: response.data.error.errorMessage\r\n                    }\r\n                })\r\n            } else {\r\n                let login = { isLoggedIn: true, user: response.data.user }\r\n                localStorage.login = JSON.stringify(login)\r\n    \r\n                dispatch({\r\n                    type: USER_LOGIN_SUCCESS,\r\n                    payload: {\r\n                        successMessage: response.data.successMessage,\r\n                        user: response.data.user\r\n                    }\r\n                })\r\n            }\r\n\r\n        }\r\n        catch (error) {\r\n            dispatch({\r\n                type: USER_LOGIN_FAIL,\r\n                payload: {\r\n                    error: error.response.data.error.errorMessage\r\n                }\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\nexport const userLogout = () => {\r\n    localStorage.clear()\r\n    return dispatch => dispatch({ type: USER_LOGOUT })\r\n}\r\n\r\nexport const userUpdate = (data) => {\r\n    let updateUser = data.updateUser\r\n    let username = updateUser.username\r\n    let oldKeywords = data.oldKeywords\r\n\r\n    let transferData = {\r\n        updateUser,\r\n        oldKeywords\r\n    }\r\n\r\n    return async dispatch => {\r\n        try {\r\n            let response = await Axios.put(CREATE_ROUTE(`user/${username}`), transferData)\r\n\r\n            dispatch({\r\n                type: USER_UPDATE_SUCCESS,\r\n                payload: {\r\n                    successMessage: response.data.successMessage,\r\n                    user: response.data.user\r\n                }\r\n            })\r\n        }\r\n        catch (error) {\r\n            dispatch({\r\n                type: USER_UPDATE_FAIL,\r\n                payload: {\r\n                    error: error.response.data.error.errorMessage\r\n                }\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\nexport const userGet = (user) => {\r\n    let { username } = user\r\n    return async dispatch => {\r\n        try {\r\n            let response = await Axios.get(CREATE_ROUTE(`user/username/${username}`))\r\n            dispatch({\r\n                type: USER_GET_SUCCESS,\r\n                payload: {\r\n                    successMessage: \"success\",\r\n                    user: response.data\r\n                }\r\n            })\r\n        } catch (error) {\r\n            dispatch({\r\n                type: USER_GET_FAIL,\r\n                payload: {\r\n                    error: error.response.data.error.errorMessage\r\n                }\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n}"],"mappings":"0YAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,MAAOC,OAAP,KAAmB,cAAnB,CACA,OAASC,SAAT,CAAoBC,YAApB,CAAkCC,kBAAlC,CAAsDC,eAAtD,CAAuEC,WAAvE,CAAoFC,WAApF,CAAiGC,mBAAjG,CAAsHC,aAAtH,CAAqIC,gBAArI,CAAuJC,gBAAvJ,KAA+K,mBAA/K,CACA,GAAMC,aAAY,CAAGX,MAAM,CAACW,YAA5B,CACA,GAAMC,KAAI,CAAGC,OAAO,CAAC,MAAD,CAApB,CAEA,MAAO,IAAMC,aAAY,CAAG,QAAfA,aAAe,CAACC,IAAD,CAAU,CAElC,iGAAO,iBAAOC,QAAP,uKAGwBjB,MAAK,CAACkB,IAAN,CAAWN,YAAY,CAAC,MAAD,CAAvB,CAAiCI,IAAjC,CAHxB,QAGOG,QAHP,eAICF,QAAQ,CAAC,CACLG,IAAI,CAAEjB,YADD,CAELkB,OAAO,CAAE,CACLC,cAAc,CAAEH,QAAQ,CAACI,IAAT,CAAcD,cADzB,CAELN,IAAI,CAAEG,QAAQ,CAACI,IAAT,CAAcP,IAFf,CAFJ,CAAD,CAAR,CAJD,+EAYCC,QAAQ,CAAC,CACLG,IAAI,CAAElB,SADD,CAELmB,OAAO,CAAE,CAAEG,KAAK,CAAE,YAAML,QAAN,CAAeI,IAAf,CAAoBC,KAApB,CAA0BC,YAAnC,CAFJ,CAAD,CAAR,CAZD,oEAAP,+DAmBH,CArBM,CAuBP,MAAO,IAAMC,UAAS,CAAG,QAAZA,UAAY,CAACH,IAAD,CAAU,CAC/B,GAAMI,SAAN,CAA6BJ,IAA7B,CAAMI,QAAN,CAAgBC,QAAhB,CAA6BL,IAA7B,CAAgBK,QAAhB,CACA,GAAI,CAACA,QAAL,CAAe,CAAEC,KAAK,CAAC,6BAAD,CAAL,CAAsC,CACvD,GAAI,CAACF,QAAL,CAAe,CAAEE,KAAK,CAAC,6BAAD,CAAL,CAAsC,CAEvD,kGAAO,kBAAMZ,QAAN,mLAEsBjB,MAAK,CAAC8B,GAAN,CAAUlB,YAAY,iBAAUe,QAAV,aAAsBC,QAAtB,EAAtB,CAFtB,QAEKT,QAFL,gBAE+E;AAC9EY,OAAO,CAACC,GAAR,CAAY,gBAAZ,EACAD,OAAO,CAACC,GAAR,CAAYb,QAAQ,CAACI,IAArB,EACA,GAAGJ,QAAQ,CAACI,IAAT,CAAcC,KAAjB,CAAuB,CACnBP,QAAQ,CAAC,CACLG,IAAI,CAAEf,eADD,CAELgB,OAAO,CAAE,CACLG,KAAK,CAAEL,QAAQ,CAACI,IAAT,CAAcC,KAAd,CAAoBC,YADtB,CAFJ,CAAD,CAAR,CAMH,CAPD,IAOO,CACCQ,KADD,CACS,CAAEC,UAAU,CAAE,IAAd,CAAoBlB,IAAI,CAAEG,QAAQ,CAACI,IAAT,CAAcP,IAAxC,CADT,CAEHmB,YAAY,CAACF,KAAb,CAAqBG,IAAI,CAACC,SAAL,CAAeJ,KAAf,CAArB,CAEAhB,QAAQ,CAAC,CACLG,IAAI,CAAEhB,kBADD,CAELiB,OAAO,CAAE,CACLC,cAAc,CAAEH,QAAQ,CAACI,IAAT,CAAcD,cADzB,CAELN,IAAI,CAAEG,QAAQ,CAACI,IAAT,CAAcP,IAFf,CAFJ,CAAD,CAAR,CAOH,CAvBF,mFA2BCC,QAAQ,CAAC,CACLG,IAAI,CAAEf,eADD,CAELgB,OAAO,CAAE,CACLG,KAAK,CAAE,aAAML,QAAN,CAAeI,IAAf,CAAoBC,KAApB,CAA0BC,YAD5B,CAFJ,CAAD,CAAR,CA3BD,sEAAP,iEAqCH,CA1CM,CA4CP,MAAO,IAAMa,WAAU,CAAG,QAAbA,WAAa,EAAM,CAC5BH,YAAY,CAACI,KAAb,GACA,MAAO,UAAAtB,QAAQ,QAAIA,SAAQ,CAAC,CAAEG,IAAI,CAAEb,WAAR,CAAD,CAAZ,EAAf,CACH,CAHM,CAKP,MAAO,IAAMiC,WAAU,CAAG,QAAbA,WAAa,CAACjB,IAAD,CAAU,CAChC,GAAIkB,WAAU,CAAGlB,IAAI,CAACkB,UAAtB,CACA,GAAId,SAAQ,CAAGc,UAAU,CAACd,QAA1B,CACA,GAAIe,YAAW,CAAGnB,IAAI,CAACmB,WAAvB,CAEA,GAAIC,aAAY,CAAG,CACfF,UAAU,CAAVA,UADe,CAEfC,WAAW,CAAXA,WAFe,CAAnB,CAKA,kGAAO,kBAAMzB,QAAN,6KAEsBjB,MAAK,CAAC4C,GAAN,CAAUhC,YAAY,gBAASe,QAAT,EAAtB,CAA4CgB,YAA5C,CAFtB,QAEKxB,QAFL,gBAICF,QAAQ,CAAC,CACLG,IAAI,CAAEZ,mBADD,CAELa,OAAO,CAAE,CACLC,cAAc,CAAEH,QAAQ,CAACI,IAAT,CAAcD,cADzB,CAELN,IAAI,CAAEG,QAAQ,CAACI,IAAT,CAAcP,IAFf,CAFJ,CAAD,CAAR,CAJD,mFAaCC,QAAQ,CAAC,CACLG,IAAI,CAAET,gBADD,CAELU,OAAO,CAAE,CACLG,KAAK,CAAE,aAAML,QAAN,CAAeI,IAAf,CAAoBC,KAApB,CAA0BC,YAD5B,CAFJ,CAAD,CAAR,CAbD,sEAAP,iEAqBH,CA/BM,CAiCP,MAAO,IAAMoB,QAAO,CAAG,QAAVA,QAAU,CAAC7B,IAAD,CAAU,CAC7B,GAAMW,SAAN,CAAmBX,IAAnB,CAAMW,QAAN,CACA,kGAAO,kBAAMV,QAAN,6KAEsBjB,MAAK,CAAC8B,GAAN,CAAUlB,YAAY,yBAAkBe,QAAlB,EAAtB,CAFtB,QAEKR,QAFL,gBAGCF,QAAQ,CAAC,CACLG,IAAI,CAAEV,gBADD,CAELW,OAAO,CAAE,CACLC,cAAc,CAAE,SADX,CAELN,IAAI,CAAEG,QAAQ,CAACI,IAFV,CAFJ,CAAD,CAAR,CAHD,mFAWCN,QAAQ,CAAC,CACLG,IAAI,CAAEX,aADD,CAELY,OAAO,CAAE,CACLG,KAAK,CAAE,aAAML,QAAN,CAAeI,IAAf,CAAoBC,KAApB,CAA0BC,YAD5B,CAFJ,CAAD,CAAR,CAXD,sEAAP,iEAqBH,CAvBM"},"metadata":{},"sourceType":"module"}